Области видимости и замыкания.

В python существует 4 области видимости переменных

 1. **Local** (Внутри функции)
 2. **Enclosing** (Если есть вложенные функции, переменная основной функции - enclosing для вложенных функций)
 3. **Global** (Это глобальные переменные уровня модуля, вне функций и классов, просто в модуле)
 4. **Built-in** (Уровень _Python_ интерпретатора. В рамках этой области видимости находятся функции _open_, _len_ и т.п., также туда входят исключения. Эти сущности доступны в любом модуле _Python_ и не требуют предварительного импорта. _Built-in_ – это максимально широкая область видимости.)



Локальные переменные уничтожаются при завершении функции. Замыкания существуют именно для того, чтобы сохранить локальные переменные после завершения функции и соответственно обратиться к ним, при новом вызове.

Локальная переменная не будет уничтожена, если на нее где-то останется “живая” ссылка, после завершения работы функции. Эту ссылку может сохранять вложенная функция. Функции построенные по такому принципу могут использоваться для построения специализированных функций, т.е. являются фабриками функций. Далее будет рассмотрен вопрос создания и использования замыканий в Python, которые как раз и использую эту идею.

Пример:
	

    def  f(a):
       def  helper(b):
	       return a*b
       return helper
        
    new_f = f(4)
    print(new_f(3))
    >12

Вызывая **_new_f(4)_**, мы фактически обращаемся к функции _**helper()**_, которая находится внутри **f()**. Переменная **_a_**, является локальной для **f()**, и имеет область _enclosing_ для _**helper()**_. Несмотря на то, что _**f()**_ завершила свою работу, переменная **_a_** не уничтожается, т.к. на нее сохраняется ссылка во внутренней функции, которая была возвращена в качестве результата.
